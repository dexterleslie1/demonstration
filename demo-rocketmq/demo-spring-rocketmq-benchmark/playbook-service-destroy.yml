- name: "销毁api服务"
  hosts: api
  tasks:
    - name: "使用Docker Compose down销毁api服务"
      shell: |
        set -e
        cd ~/deployer-demo-spring-rocketmq-benchmark/service
        docker compose down -v

- name: "销毁crond服务"
  hosts: crond
  tasks:
    - name: "使用Docker Compose down销毁crond服务"
      shell: |
        set -e
        cd ~/deployer-demo-spring-rocketmq-benchmark/crond
        docker compose down -v

- name: "销毁RocketMQ服务"
  hosts: rocketmq
  tasks:
    - name: "使用Docker Compose down销毁RocketMQ服务"
      shell: |
        set -e
        cd ~/deployer-demo-spring-rocketmq-benchmark/common
        docker compose down -v

- name: "销毁OpenResty服务"
  hosts: openresty
  tasks:
    - name: "使用Docker Compose down销毁OpenResty服务"
      shell: |
        set -e
        cd ~/deployer-demo-spring-rocketmq-benchmark/openresty
        docker compose down -v
